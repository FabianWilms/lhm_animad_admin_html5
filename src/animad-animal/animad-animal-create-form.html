<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animation-runner-behavior.html">

<dom-module id="animad-animal-create-form">
    <template>
        <style>
        </style>
        <iron-form id="create-form">
            <form method="get">
                <paper-input label="Name*" minlength="2" maxlength="35" type="string" required></paper-input>
                <paper-dropdown-menu label="Species*" required>
                    <paper-listbox slot="dropdown-content">
                        <!-- 
                            TODO hier die Werte über die URL (siehe properties) holen und dann 
                            per dom repeat hier anzeigen.
                        -->
                        <paper-item>Barrakuda</paper-item>
                        <paper-item>Elephant</paper-item>
                        <paper-item>Pinguin</paper-item>
                    </paper-listbox>
                </paper-dropdown-menu>
                <!-- GENERATOR pastdate -->
                <paper-input label="Birthday*" type="date" max="[[today]]" error-message="Bitte geben Sie ein Datum in der Vergangenheit ein!"
                    required></paper-input>
                <paper-input label="Next Vaccination" type="date" min="[[today]]" error-message="Bitte geben Sie ein Datum in der Zukunft ein!"></paper-input>
                <paper-dropdown-menu label="Gender*" required>
                    <paper-listbox slot="dropdown-content">
                        <!-- 
                            TODO hier die Werte über die URL (siehe properties) holen und dann 
                            per dom repeat hier anzeigen.
                        -->
                        <paper-item>female</paper-item>
                        <paper-item>male</paper-item>
                    </paper-listbox>
                </paper-dropdown-menu>
                <paper-input label="Weight*" type="number" minlength="1" maxlength="5" error-message="Bitte geben Sie eine positive Zahl zwischen 1 und 5 Stellen ein!"
                    required>
                    <div slot="suffix">KG</div>
                </paper-input>
                <paper-checkbox>Alive</paper-checkbox>

                <br>
                <br>
                <paper-button raised>Submit</paper-button>
            </form>
        </iron-form>
    </template>
    <script>
        // GENERATOR patter (camel case): [DOMAINNAME][ENTITY]CreateForm
        class AnimadAnimalCreateForm extends Polymer.Element {

            // GENERATOR pattern: [DOMAINNAME]-[ENTITY]-create-form
            static get is() { return 'animad-animal-create-form'; }

            // properties
            static get properties() {
                return {
                    // GENERATOR für jede Liste wird hier eine REST Ressource benötigt
                    speciesUrl: {
                        type: String
                    },
                    genderUrl: {
                        type: String
                    },
                    // GENERATOR für 'past' und 'future' Datumseingaben wird der heutige Tag als String benötigt
                    today: {
                        type: String,
                        computed: 'calculateToday()'
                    }
                }
            }

            constructor() {
                super();
            }

            connectedCallback() {
                super.connectedCallback();

            }

            // methods
            calculateToday() {
                var today = new Date();
                var dd = today.getDate();
                var mm = today.getMonth() + 1; //January is 0!
                var yyyy = today.getFullYear();

                if (dd < 10) {
                    dd = '0' + dd
                }

                if (mm < 10) {
                    mm = '0' + mm
                }

                today = yyyy + '-' + mm + '-' + dd;
                return today;
            }
        }

        // register custom element
        // GENERATOR patter (camel case): [DOMAINNAME][ENTITY]CreateForm
        customElements.define(AnimadAnimalCreateForm.is, AnimadAnimalCreateForm);
    </script>
</dom-module>